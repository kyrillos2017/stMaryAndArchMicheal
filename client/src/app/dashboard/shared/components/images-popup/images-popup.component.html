<p-overlayPanel dir="rtl" #op [showCloseIcon]="false" [baseZIndex]="9999"  >
  <button mat-flat-button class="mb-3" color="primary" (click)="file.click()">+ إضافة صورة جديدة</button>
  <input type="file" #file placeholder="Choose file" (change)="uploadFile(file.files)" style="display:none;">


  <ng-template pTemplate>

    <p-table dir="rtl" [totalRecords]="totalRecords" [value]="images" [(selection)]="selectedImage" selectionMode="single" (onRowSelect)="onRowSelect($event)" [lazy]="true" (onLazyLoad)="getImages($event)" [paginator]="false"
      [totalRecords]="totalRecords" [loading]="loading" [globalFilterFields]="['image', 'title']">
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="title">عنوان<p-sortIcon field="title"></p-sortIcon>
          </th>
          <th>الصورة</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowData let-img>
        <tr [pSelectableRow]="rowData">
          <td>{{img?.title}}</td>
          <td><img height="50px" src="{{img?.imgUrl}}" [alt]="img?.image" class="product-image img-fluid" /></td>
        </tr>
      </ng-template>
    </p-table>
    <p-paginator [rows]="3" [totalRecords]="totalRecords" (onPageChange)="paginate($event)"></p-paginator>
  </ng-template>
</p-overlayPanel>
