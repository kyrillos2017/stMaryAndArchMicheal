<form [formGroup]="massForm" (ngSubmit)="onSubmit()" dir="rtl">
  <div class="row mt-4 border rounded px-3 pt-3 pb-2 position-relative">


    <div class="col-md-4">
      <mat-form-field appearance="legacy" class="w-100 text-right mb-3">
        <mat-label>الاسم</mat-label>
        <input formControlName="name" matInput placeholder="الاسم">

        <mat-error *ngFor="let validation of validation_messages">
          <mat-error class="error-message"
            *ngIf="massForm?.get('name')?.hasError(validation.type) && (massForm.get('name').dirty || massForm.get('name').touched)">
            الإسم {{validation.message}}</mat-error>
        </mat-error>
      </mat-form-field>
    </div>




    <div class="col-md-4">
      <mat-form-field appearance="legacy" class="w-100 text-right mb-3">
        <mat-label>اليوم</mat-label>
        <mat-select formControlName="day">
          <mat-option *ngFor="let o of days" [value]="o.id">{{o.name}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="col-md-4">
      <mat-form-field appearance="legacy" class="w-100 text-right mb-3">
        <mat-label>التكرار</mat-label>
        <mat-select formControlName="massRepetationType">
          <mat-option *ngFor="let o of massRepetation" [value]="o.id">{{o.name}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="col-md-4">
      <mat-form-field appearance="legacy" class="w-100 text-right mb-3">
        <mat-label>النوع</mat-label>
        <mat-select formControlName="type">
          <mat-option *ngFor="let o of massTypes" [value]="o.id">{{o.name}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-md-4">
      <mat-form-field appearance="legacy" class="w-100 text-right mb-3">
        <mat-label>المكان</mat-label>
        <input formControlName="place" matInput placeholder="المكان">

        <mat-error *ngFor="let validation of validation_messages">
          <mat-error class="error-message"
            *ngIf="massForm?.get('place')?.hasError(validation.type) && (massForm.get('place').dirty || massForm.get('place').touched)">
            المكان {{validation.message}}</mat-error>
        </mat-error>
      </mat-form-field>
    </div>

    <div class="col-md-4">
      <mat-form-field appearance="legacy" class="w-100 text-right mb-3 position-relative">
        <mat-label (click)="startTime.toggle()">وقت البدء</mat-label>
        <input class="pointer" (click)="startTime.toggle()" (keypress)="noTyping()" [value]="startTime.value? (startTime.value | date: 'shortTime') : null" matInput placeholder="وقت البدء">
        <p-calendar hourFormat="12" class="input-overlay" formControlName="startTime" #startTime [timeOnly]="true" inputId="timeonly"></p-calendar>
        <mat-error *ngFor="let validation of validation_messages">
          <mat-error class="error-message"
          *ngIf="massForm?.get('startTime')?.hasError(validation.type) && (massForm.get('startTime').dirty || massForm.get('startTime').touched)">
          وقت البدء {{validation.message}}</mat-error>
        </mat-error>
      </mat-form-field>
    </div>

    <div class="col-md-4">
      <mat-form-field appearance="legacy" class="w-100 text-right mb-3 position-relative">
        <mat-label (click)="endTime.toggle()">وقت الإنتهاء</mat-label>
        <input class="pointer" (click)="endTime.toggle()" (keypress)="noTyping()" [value]="endTime.value? (endTime.value | date: 'shortTime') : null" matInput placeholder="وقت الإنتهاء">
        <p-calendar hourFormat="12" class="input-overlay" formControlName="endTime" #endTime [timeOnly]="true" inputId="timeonly"></p-calendar>
        <mat-error *ngFor="let validation of validation_messages">
          <mat-error class="error-message"
          *ngIf="massForm?.get('endTime')?.hasError(validation.type) && (massForm.get('endTime').dirty || massForm.get('endTime').touched)">
          وقت الإنتهاء {{validation.message}}</mat-error>
        </mat-error>
      </mat-form-field>
    </div>

    <div class="col-md-4">
      <mat-form-field appearance="legacy" class="w-100 text-right mb-3">
        <mat-label>ترتيب الظهور</mat-label>
        <input type="number" formControlName="displayOrder" matInput placeholder="ترتيب الظهور">
      </mat-form-field>
    </div>

    <div class="col-md-4" *ngIf="f.massRepetationType.value == MassRepetationType.monthly">
      <mat-form-field appearance="legacy" class="w-100 text-right mb-3">
        <mat-label>النوع</mat-label>
        <mat-select formControlName="order">
          <mat-option [value]="'الأول'">
            الأول
          </mat-option>
          <mat-option [value]="'الثاني'">
            الثاني
          </mat-option>
          <mat-option [value]="'الثالث'">
            الثالث
          </mat-option>
          <mat-option [value]="'الرابع'">
            الرابع
          </mat-option>
          <mat-option [value]="'الخامس'">
            الخامس
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>


    <div class="col-md-4" *ngIf="f.massRepetationType.value == MassRepetationType.special">
      <mat-form-field appearance="legacy" class="w-100 text-right mb-3">
        <mat-label>التاريخ</mat-label>
        <input (click)="datePicker.open()" formControlName="date" matInput [matDatepicker]="datePicker">
        <mat-datepicker-toggle matSuffix [for]="datePicker"></mat-datepicker-toggle>
        <mat-datepicker #datePicker></mat-datepicker>
      </mat-form-field>
    </div>

    <div class="col-md-4">
      <mat-slide-toggle formControlName="isActive">مٌفعل</mat-slide-toggle>
    </div>


    <footer class="w-100 text-start pt-2 border-top mt-3">
      <button type="submit" mat-flat-button color="primary">حفظ</button>
    </footer>

  </div>

</form>




<!--
<img [src]="img?.imgUrl" alt="" srcset=""> -->
